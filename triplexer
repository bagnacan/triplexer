#!/usr/bin/env python3

import logging
import os
import sys


MODULE = os.path.basename(sys.argv[0])
SHORT = 0
LONG  = 1
ARG   = 2
MEAN  = 3
OPT_H = ("-h", "--help", "", "Print this help, and exit.")
OPT_V = ("-v", "--version", "", "Print the version, and exit.")
OPT_C = ("-c", "--conf", "<conf.yml>", "Set \"conf.yml\" as the YAML configuration file.")


# logger
logger = logging.getLogger(MODULE)


# file logger
LOGFILE = str(MODULE + ".log")
logging.basicConfig(
    level = logging.DEBUG,
    format = "%(asctime)s %(name)-12s %(levelname)-8s %(message)s",
    datefmt = "%Y-%m-%d %H:%M",
    filename = LOGFILE,
    filemode = "a")


# console logger
console = logging.StreamHandler()
console.setLevel(logging.INFO)
formatter = logging.Formatter("%(message)s")
console.setFormatter(formatter)
logging.getLogger("").addHandler(console)


def usage():
    logger.info("Usage: %s [option] <file>", MODULE)
    logger.info("Synopsis: Predict and simulate putative RNA triplexes.")
    logger.info("Options:")
    logger.info("  %s | %s\t\t\t %s", OPT_H[SHORT], OPT_H[LONG], OPT_H[MEAN])
    logger.info("  %s | %s\t\t %s", OPT_V[SHORT], OPT_V[LONG], OPT_V[MEAN])
    logger.info("  %s | %s %s\t %s", OPT_C[SHORT], OPT_C[LONG], OPT_C[ARG], OPT_C[MEAN])

usage()
